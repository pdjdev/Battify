<Window x:Class="Battify.BatteryInfoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Battify 정보" 
        Height="370" 
        Width="455" 
        Background="#1B1B1B"
        ResizeMode="NoResize"
        WindowStartupLocation="Manual">

    <Window.Resources>
        <!-- 다크 테마 체크박스 스타일 -->
        <Style x:Key="DarkCheckBoxStyle" TargetType="CheckBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- 체크박스 -->
                            <Border x:Name="CheckBorder" 
                                    Grid.Column="0"
                                    Width="16" 
                                    Height="16" 
                                    Background="#404040" 
                                    BorderBrush="#606060" 
                                    BorderThickness="1"
                                    CornerRadius="2"
                                    Margin="0,0,6,0">
                                <Path x:Name="CheckMark" 
                                      Visibility="Collapsed"
                                      Stroke="White" 
                                      StrokeThickness="2" 
                                      Data="M 2,6 L 6,10 L 14,2"/>
                            </Border>

                            <!-- 텍스트 -->
                            <ContentPresenter Grid.Column="1" 
                                            VerticalAlignment="Center"
                                            RecognizesAccessKey="True"/>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                <Setter TargetName="CheckBorder" Property="Background" Value="#0078D4"/>
                                <Setter TargetName="CheckBorder" Property="BorderBrush" Value="#0078D4"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="CheckBorder" Property="BorderBrush" Value="#808080"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="CheckBorder" Property="Background" Value="#303030"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 다크 테마 스크롤바 스타일 -->
        <Style x:Key="DarkScrollBarStyle" TargetType="ScrollBar">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid x:Name="GridRoot" Width="12" Background="#2D2D2D">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="0.00001*"/>
                            </Grid.RowDefinitions>

                            <Track x:Name="PART_Track" Grid.Row="0" IsDirectionReversed="true" Focusable="false">
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb" Background="#606060" Style="{DynamicResource ScrollThumbs}"/>
                                </Track.Thumb>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton x:Name="PageUp" Command="ScrollBar.PageDownCommand" Opacity="0" Focusable="false"/>
                                </Track.IncreaseRepeatButton>
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton x:Name="PageDown" Command="ScrollBar.PageUpCommand" Opacity="0" Focusable="false"/>
                                </Track.DecreaseRepeatButton>
                            </Track>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <Trigger SourceName="Thumb" Property="IsMouseOver" Value="true">
                                <Setter Value="#808080" TargetName="Thumb" Property="Background"/>
                            </Trigger>
                            <Trigger SourceName="Thumb" Property="IsDragging" Value="true">
                                <Setter Value="#909090" TargetName="Thumb" Property="Background"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ScrollThumbs" TargetType="Thumb">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Grid x:Name="Grid">
                            <Rectangle HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto" Fill="Transparent"/>
                            <Border x:Name="Rectangle1" CornerRadius="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto" Background="{TemplateBinding Background}"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 다크 테마 텍스트박스 스타일 -->
        <Style x:Key="DarkTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#202020"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#404040"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="3">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        Focusable="false" 
                                        HorizontalScrollBarVisibility="Disabled" 
                                        VerticalScrollBarVisibility="Auto"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- 상단 PictureBox 영역 -->
        <Rectangle x:Name="TopImageArea" 
                   Fill="Transparent" 
                   Height="114" 
                   VerticalAlignment="Top" 
                   Margin="0"/>

        <!-- 배터리 정보 라벨 -->
        <Label x:Name="BatteryInfoLabel" 
               Content="배터리 정보" 
               Foreground="Gray" 
               FontSize="14"
               Margin="12,129,0,0" 
               VerticalAlignment="Top" 
               HorizontalAlignment="Left"/>

        <!-- 상태 텍스트박스 -->
        <TextBox x:Name="StatusTextBox" 
                 Style="{StaticResource DarkTextBoxStyle}"
                 IsReadOnly="True" 
                 TextWrapping="Wrap" 
                 AcceptsReturn="True" 
                 VerticalScrollBarVisibility="Auto"
                 FontFamily="Consolas, Courier New"
                 FontSize="12"
                 Padding="8"
                 Margin="12,152,12,54">
            <TextBox.Resources>
                <Style TargetType="ScrollBar" BasedOn="{StaticResource DarkScrollBarStyle}"/>
            </TextBox.Resources>
        </TextBox>

        <!-- 하단 컨트롤들 -->
        <Grid VerticalAlignment="Bottom" Height="50" Margin="0,0,0,0">
            <!-- 시작프로그램 설정 체크박스 -->
            <CheckBox x:Name="SetStartupChk" 
                      Content="시작프로그램 설정" 
                      Style="{StaticResource DarkCheckBoxStyle}"
                      FontSize="14"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Left"
                      Margin="12,0,0,0"
                      Checked="SetStartupChk_Checked"
                      Unchecked="SetStartupChk_Unchecked"/>

            <!-- 새로 고침 버튼 -->
            <Button x:Name="UpdateButton" 
                    Content="새로 고침" 
                    Background="#282828" 
                    Foreground="White" 
                    BorderBrush="Transparent"
                    FontSize="14"
                    Width="134" 
                    Height="35" 
                    HorizontalAlignment="Right" 
                    VerticalAlignment="Center"
                    Margin="0,0,12,0"
                    Click="UpdateButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="#282828"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" 
                                            CornerRadius="10"
                                            BorderThickness="0">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                        VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#383838"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#484848"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </Grid>
    </Grid>
</Window>